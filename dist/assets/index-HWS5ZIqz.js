(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const H="modulepreload",O=function(e){return"/"+e},$={},k=function(a,s,o){let r=Promise.resolve();if(s&&s.length>0){let p=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");r=p(s.map(c=>{if(c=O(c),c in $)return;$[c]=!0;const u=c.endsWith(".css"),b=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${b}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":H,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((y,M)=>{h.addEventListener("load",y),h.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&n(l.reason);return a().catch(n)})};function t(e,a={},s=[]){const o=document.createElement(e);return Object.entries(a).forEach(([r,n])=>{if(r==="className")o.className=n;else if(r==="dataset")Object.entries(n).forEach(([i,l])=>{o.dataset[i]=l});else if(r.startsWith("on")&&typeof n=="function"){const i=r.toLowerCase().substring(2);o.addEventListener(i,n)}else o.setAttribute(r,n)}),s&&(Array.isArray(s)||(s=[s]),s.forEach(r=>{r instanceof Node?o.appendChild(r):r!=null&&o.appendChild(document.createTextNode(String(r)))})),o}const x={Home:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',Library:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>',Reader:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>',Settings:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>',Search:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>',Moon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>',ChevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>',Folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>',Tag:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"/><path d="M7 7h.01"/></svg>',ChevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>'};function S(e,a){const s=[],o=e.replace(/:([^/]+)/g,(l,p)=>(s.push(p),"([^/]+)")),r=new RegExp(`^${o}$`),n=a.match(r);if(!n)return null;const i={};return s.forEach((l,p)=>{i[l]=decodeURIComponent(n[p+1])}),i}const C=[],v={routes:[],navigate:e=>{window.history.pushState({},"",e),C.forEach(a=>a(e))},subscribe:e=>(C.push(e),e(window.location.pathname),()=>{const a=C.indexOf(e);a>-1&&C.splice(a,1)})};window.addEventListener("popstate",()=>{C.forEach(e=>e(window.location.pathname))});function j(){let e="Home";const s=[{name:"Home",path:"/",icon:x.Home},{name:"Library",path:"/library",icon:x.Library},{name:"Libraries",path:"/libraries",icon:x.Folder},{name:"Metadata",path:"/metadata",icon:x.Tag},{name:"Settings",path:"/settings",icon:x.Settings}].map(o=>{const r=t("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group text-gray-400 hover:bg-white/5 hover:text-white",onclick:()=>{s.forEach(n=>{n.className="w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group text-gray-400 hover:bg-white/5 hover:text-white"}),r.className="w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group bg-blue-600 shadow-lg shadow-blue-500/30 text-white",v.navigate(o.path)}});return r.innerHTML=`${o.icon}<span class="font-medium tracking-wide">${o.name}</span>`,o.name===e&&(r.className="w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group bg-blue-600 shadow-lg shadow-blue-500/30 text-white"),r});return t("aside",{className:"w-64 h-full glass-panel flex flex-col p-6 z-50 flex-shrink-0"},[t("div",{className:"flex items-center gap-3 mb-10 px-2"},[t("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-tr from-blue-500 to-cyan-400 flex items-center justify-center font-bold text-white shadow-lg shadow-blue-500/20"},["P"]),t("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400"},["Pica Manga"])]),t("nav",{className:"flex-1 space-y-2"},s),t("div",{className:"mt-auto pt-6 border-t border-white/5"},[t("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-gray-400 hover:text-white transition-colors"},[t("div",{innerHTML:x.Moon,className:"w-5 h-5"}),t("span",{className:"text-sm font-medium"},["Dark Mode"])])])])}const P="http://localhost:3000/api";async function d(e,a={}){const s=`${P}${e}`;try{const o=await fetch(s,{headers:{"Content-Type":"application/json",...a.headers},...a});if(!o.ok){const r=await o.json().catch(()=>({}));throw new Error(r.message||`API Error: ${o.status}`)}return await o.json()}catch(o){throw console.error(`API Request failed for ${s}:`,o),o}}const w={manga:{list:()=>d("/manga"),get:e=>d(`/manga/${e}`)},scanner:{status:()=>d("/scanner/status"),scan:e=>d("/scanner/scan",{method:"POST",body:JSON.stringify(e)})},tags:{list:()=>d("/tags")},health:()=>d("/health"),search:{advanced:e=>d("/search/advanced",{method:"POST",body:JSON.stringify(e)}),autocomplete:e=>d(`/search/autocomplete?q=${encodeURIComponent(e)}`),suggestions:()=>d("/search/suggestions")},thumbnails:{generate:(e,a="medium")=>`${P}/thumbnails/generate?path=${encodeURIComponent(e)}&size=${a}`,stats:()=>d("/thumbnails/stats")},history:{continueReading:(e=10)=>d(`/history/continue-reading?limit=${e}`),list:(e=1,a=20)=>d(`/history?page=${e}&limit=${a}`),favorites:(e=20)=>d(`/history/favorites?limit=${e}`),clear:e=>d(`/history/clear${e?`?olderThan=${e}`:""}`,{method:"DELETE"}),delete:e=>d(`/history/${e}`,{method:"DELETE"})},libraries:{list:()=>d("/libraries"),get:e=>d(`/libraries/${e}`),create:e=>d("/libraries",{method:"POST",body:JSON.stringify(e)}),update:(e,a)=>d(`/libraries/${e}`,{method:"PUT",body:JSON.stringify(a)}),delete:e=>d(`/libraries/${e}`,{method:"DELETE"}),stats:e=>d(`/libraries/${e}/stats`)},metadata:{search:e=>d(`/metadata/search?title=${encodeURIComponent(e)}`),apply:(e,a)=>d(`/metadata/apply/${e}`,{method:"POST",body:JSON.stringify({metadata:a})}),get:e=>d(`/metadata/${e}`),batchMatch:e=>d("/metadata/batch-match",{method:"POST",body:JSON.stringify({mangaIds:e})}),delete:e=>d(`/metadata/${e}`,{method:"DELETE"})}};function T(e){const a=["from-purple-500 to-pink-500","from-blue-500 to-teal-400","from-red-500 to-orange-500","from-emerald-500 to-cyan-500"],s=a[Math.floor(Math.random()*a.length)];let o;if(e.cover_path){const n=w.thumbnails.generate(e.cover_path,"medium");o=t("img",{src:n,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",alt:e.title,onerror:i=>{i.target.style.display="none",i.target.parentElement.querySelector(".fallback-gradient").style.display="block"}})}const r=t("div",{className:`fallback-gradient absolute inset-0 bg-gradient-to-br ${s} opacity-60 group-hover:opacity-80 transition-opacity duration-300`,style:e.cover_path?"display: none;":""});return t("div",{className:"glass-card relative rounded-xl h-72 overflow-hidden group cursor-pointer flex flex-col justify-end p-4",onclick:()=>{v.navigate(`/manga/${e.id}`)}},[o||null,r,t("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-90"}),t("div",{className:"relative z-10"},[t("h3",{className:"text-lg font-bold text-white leading-tight mb-1 line-clamp-2 group-hover:text-blue-300 transition-colors"},[e.title]),t("div",{className:"flex items-center gap-2 text-xs text-gray-400"},[t("span",{className:"bg-white/10 px-2 py-0.5 rounded"},[e.path?"Local":"Web"]),...(e.tags||[]).map(n=>t("span",{},[`#${n.name}`]))])])])}async function R(){const e=t("div",{className:"w-full max-w-7xl mx-auto"}),a={keyword:"",sortField:"created_at",sortOrder:"desc",searchTags:[],page:1,limit:20,hasMore:!0,loading:!1,allTags:[]},s=t("div",{className:"flex flex-col gap-6 mb-8"}),o=t("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4"},[t("h2",{className:"text-3xl font-bold text-white"},["My Library"]),t("div",{className:"flex flex-wrap gap-2"},[t("input",{type:"text",placeholder:"Search by title...",className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 w-64",oninput:A(g=>{a.keyword=g.target.value,y()},500)}),t("button",{className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 text-white rounded-lg flex items-center gap-2 transition-colors",onclick:()=>{const g=document.getElementById("filter-panel");g.classList.toggle("hidden"),g.classList.toggle("flex")}},[t("span",{},["Filters"]),t("div",{className:"w-4 h-4",innerHTML:x.ChevronDown})]),t("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",onclick:async()=>{const g=prompt("Enter folder path to scan:","./data");if(g)try{alert("Scan started in background..."),await w.scanner.scan({path:g}),setTimeout(y,1e3)}catch(m){alert(`Scan failed: ${m.message}`)}}},["Scan"])])]);s.appendChild(o);const r=t("div",{id:"filter-panel",className:"hidden flex-col bg-gray-800/50 border border-white/10 rounded-xl p-6 backdrop-blur-md animate-fade-in"}),n=t("div",{className:"mb-6"},[t("h4",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-3"},["Sort By"]),t("div",{className:"flex gap-4"},[u("Recently Added","created_at",a),u("Recently Updated","updated_at",a),u("Title (A-Z)","title",a)])]);r.appendChild(n);const i=t("div",{className:"flex flex-wrap gap-2"}),l=t("div",{},[t("h4",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-3"},["Filter by Tags"]),i]);r.appendChild(l),s.appendChild(r),e.appendChild(s);const p=t("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"});e.appendChild(p);const c=t("div",{className:"w-full py-10 flex justify-center"});e.appendChild(c);function u(g,m,N){const f=t("button",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors border ${N.sortField===m?"bg-blue-600 border-blue-600 text-white":"bg-transparent border-gray-600 text-gray-400 hover:text-white"}`,onclick:()=>{N.sortField=m;const E=f.parentElement;Array.from(E.children).forEach(_=>{_.className="px-4 py-2 rounded-lg text-sm font-medium transition-colors border bg-transparent border-gray-600 text-gray-400 hover:text-white"}),f.className="px-4 py-2 rounded-lg text-sm font-medium transition-colors border bg-blue-600 border-blue-600 text-white",y()}},[g]);return f}function b(){i.innerHTML="",a.allTags.forEach(g=>{const m=a.searchTags.includes(g.name),N=t("button",{className:`px-3 py-1 rounded-full text-xs font-medium transition-colors border ${m?"bg-blue-500/20 border-blue-500 text-blue-300":"bg-gray-700 border-transparent text-gray-300 hover:bg-gray-600"}`,onclick:()=>{m?a.searchTags=a.searchTags.filter(f=>f!==g.name):a.searchTags.push(g.name),b(),y()}},[`#${g.name} (${g.manga_count||0})`]);i.appendChild(N)}),a.allTags.length===0&&(i.innerHTML='<span class="text-gray-500 text-sm">No tags found.</span>')}async function h(g=!1){if(!a.loading){a.loading=!0,g?c.innerHTML='<div class="text-gray-500 animate-pulse text-sm">Loading more...</div>':(p.innerHTML="",c.innerHTML='<div class="text-blue-500 animate-pulse">Loading...</div>');try{const m={keyword:a.keyword,tags:a.searchTags,sortBy:a.sortField,sortOrder:a.sortOrder,page:a.page,limit:a.limit},f=(await w.search.advanced(m)).data||[];f.length<a.limit?(a.hasMore=!1,c.innerHTML='<div class="text-gray-600 text-sm italic">You reached the end.</div>'):(a.hasMore=!0,c.innerHTML=""),f.length===0&&!g?p.innerHTML=`
                    <div class="col-span-full text-center py-20">
                        <div class="text-gray-500 text-lg mb-2">No manga found</div>
                        <div class="text-gray-600 text-sm">Try adjusting your filters.</div>
                    </div>`:f.forEach(E=>{p.appendChild(T(E))})}catch(m){console.error(m),g||(p.innerHTML=`<div class="col-span-full text-center py-20 text-red-500">Error: ${m.message}</div>`)}finally{a.loading=!1}}}function y(){a.page=1,a.hasMore=!0,h(!1)}try{const g=await w.tags.list();a.allTags=g,b()}catch(g){console.warn("Failed to fetch tags",g)}return await h(),new IntersectionObserver(g=>{g[0].isIntersecting&&a.hasMore&&!a.loading&&(a.page++,h(!0))},{rootMargin:"200px"}).observe(c),e}function A(e,a){let s;return function(...o){clearTimeout(s),s=setTimeout(()=>e.apply(this,o),a)}}async function B(){const e=t("div",{className:"w-full max-w-7xl mx-auto"}),a=t("div",{className:"mb-8"},[t("h2",{className:"text-3xl font-bold text-white mb-2"},["Welcome Back"]),t("p",{className:"text-gray-400"},["Continue your reading journey"])]);e.appendChild(a);const s=t("div",{className:"mb-12"});e.appendChild(s);const o=t("div",{className:"mb-12"});e.appendChild(o);const r=t("div",{className:"mb-12"});e.appendChild(r);try{const n=await w.history.continueReading(6);if(n&&n.length>0){s.appendChild(t("div",{className:"mb-6"},[t("div",{className:"flex items-center justify-between mb-4"},[t("h3",{className:"text-xl font-bold text-white"},["Continue Reading"]),t("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",onclick:()=>v.navigate("/history")},["View All →"])])]));const i=t("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4"});n.forEach(l=>{const p=I(l);i.appendChild(p)}),s.appendChild(i)}}catch(n){console.error("Failed to load continue reading:",n)}try{const n=await w.history.favorites(12);if(n&&n.data&&n.data.length>0){o.appendChild(t("div",{className:"mb-6"},[t("div",{className:"flex items-center justify-between mb-4"},[t("h3",{className:"text-xl font-bold text-white"},["My Favorites"]),t("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",onclick:()=>v.navigate("/favorites")},["View All →"])])]));const i=t("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4"});n.data.forEach(l=>{i.appendChild(T(l))}),o.appendChild(i)}}catch(n){console.error("Failed to load favorites:",n)}try{const n=await w.search.advanced({sortBy:"created_at",sortOrder:"desc",limit:12});if(n&&n.data&&n.data.length>0){r.appendChild(t("div",{className:"mb-6"},[t("div",{className:"flex items-center justify-between mb-4"},[t("h3",{className:"text-xl font-bold text-white"},["Recently Added"]),t("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",onclick:()=>v.navigate("/library")},["Browse Library →"])])]));const i=t("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4"});n.data.forEach(l=>{i.appendChild(T(l))}),r.appendChild(i)}}catch(n){console.error("Failed to load recent manga:",n)}return e}function I(e){const a=(e.progress||0)*100,s=t("div",{className:"glass-card rounded-xl overflow-hidden cursor-pointer group hover:scale-105 transition-transform duration-300",onclick:()=>{e.chapter_id?v.navigate(`/read/${e.id}/${e.chapter_id}?page=${e.page_number||1}`):v.navigate(`/manga/${e.id}`)}}),o=e.cover_path?`http://localhost:3000/api/image?path=${encodeURIComponent(e.cover_path)}`:"https://via.placeholder.com/300x400?text=No+Cover",r=t("div",{className:"relative aspect-[3/4] bg-gray-800 overflow-hidden"}),n=t("img",{src:o,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"});r.appendChild(n);const i=t("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700"},[t("div",{className:"h-full bg-blue-500 transition-all",style:`width: ${a}%`})]);r.appendChild(i);const l=t("div",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-600/90 backdrop-blur-sm rounded text-xs font-bold text-white"},["Continue"]);r.appendChild(l),s.appendChild(r);const p=t("div",{className:"p-3"},[t("h4",{className:"text-white font-medium text-sm mb-1 truncate group-hover:text-blue-400 transition-colors"},[e.title]),t("p",{className:"text-gray-400 text-xs truncate"},[e.chapter_title||`Chapter ${e.chapter_number||"?"}`])]);return s.appendChild(p),s}function D(){const e=j(),a=t("div",{className:"w-full h-full overflow-y-auto pt-20 px-8 pb-10 custom-scrollbar"}),s=t("main",{className:"flex-1 h-full overflow-hidden relative flex flex-col"},[t("header",{className:"h-16 w-full flex items-center justify-between px-8 absolute top-0 z-40 bg-gradient-to-b from-gray-900/80 to-transparent"},[t("h1",{id:"page-title",className:"text-2xl font-bold text-white"},["Home"]),t("div",{className:"flex items-center gap-4"},[t("div",{className:"w-10 h-10 rounded-full bg-gray-800 border border-white/10"})])]),a]),o=async r=>{const{MangaDetailsPage:n}=await k(async()=>{const{MangaDetailsPage:c}=await import("./MangaDetails-BYKBzwrD.js");return{MangaDetailsPage:c}},[]),{ReaderPage:i}=await k(async()=>{const{ReaderPage:c}=await import("./Reader-CiZdECmb.js");return{ReaderPage:c}},[]);e.style.display="flex",s.style.display="flex",document.getElementById("reader-overlay")&&document.getElementById("reader-overlay").remove();const l=document.getElementById("page-title");a.innerHTML="";let p;if(r==="/"){l&&(l.textContent="Home"),a.appendChild(await B());return}if(r==="/library"){l&&(l.textContent="Library"),a.appendChild(await R());return}if(r==="/settings"){l&&(l.textContent="Settings"),a.innerHTML='<div class="text-white mt-10 ml-4">Settings Page (Coming Soon)</div>';return}if(r==="/libraries"){const{LibrariesPage:c}=await k(async()=>{const{LibrariesPage:u}=await import("./Libraries-5LE5OlNd.js");return{LibrariesPage:u}},[]);l&&(l.textContent="Libraries"),a.appendChild(await c());return}if(r==="/metadata"){const{MetadataPage:c}=await k(async()=>{const{MetadataPage:u}=await import("./Metadata-Che1LuOR.js");return{MetadataPage:u}},[]);l&&(l.textContent="Metadata"),a.appendChild(await c());return}if(p=S("/manga/:id",r)){l&&(l.textContent="Manga Details"),a.appendChild(await n(p));return}if(p=S("/read/:mangaId/:chapterId",r)){const c=await i(p);c.id="reader-overlay",document.body.appendChild(c);return}a.innerHTML='<div class="text-white mt-10 ml-4">404 - Page Not Found</div>'};return v.subscribe(o),o("/"),t("div",{className:"flex w-full h-full"},[e,s])}const L=document.querySelector("#app");L&&(L.innerHTML="",L.appendChild(D()));export{x as I,w as a,t as c,v as r};
