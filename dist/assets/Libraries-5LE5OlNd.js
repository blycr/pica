import{c as e,a as o,r as b}from"./index-HWS5ZIqz.js";async function v(){const c=e("div",{className:"w-full max-w-7xl mx-auto"}),l=e("div",{className:"flex items-center justify-between mb-8"},[e("div",{},[e("h2",{className:"text-3xl font-bold text-white mb-2"},["Libraries"]),e("p",{className:"text-gray-400"},["Manage your manga collections"])]),e("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors flex items-center gap-2",onclick:()=>p()},["+ Add Library"])]);c.appendChild(l);const i=e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"});c.appendChild(i);async function n(){i.innerHTML='<div class="col-span-full text-center py-10 text-gray-500">Loading...</div>';try{const t=await o.libraries.list();if(i.innerHTML="",t.length===0){i.innerHTML=`
                    <div class="col-span-full text-center py-20">
                        <div class="text-gray-500 text-lg mb-2">No libraries found</div>
                        <div class="text-gray-600 text-sm">Click "Add Library" to create your first library</div>
                    </div>
                `;return}t.forEach(a=>{i.appendChild(m(a))})}catch(t){i.innerHTML=`<div class="col-span-full text-center py-20 text-red-500">Error: ${t.message}</div>`}}function m(t){const a=e("div",{className:"glass-card p-6 rounded-xl hover:scale-105 transition-transform duration-300"}),r=e("div",{className:"mb-4"},[e("div",{className:"flex items-start justify-between mb-2"},[e("h3",{className:"text-xl font-bold text-white"},[t.name]),e("div",{className:`px-2 py-1 rounded text-xs font-bold ${t.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`},[t.is_active?"Active":"Inactive"])]),e("p",{className:"text-gray-400 text-sm mb-2"},[t.description||"No description"]),e("p",{className:"text-gray-500 text-xs font-mono truncate"},[t.path])]);a.appendChild(r);const s=e("div",{className:"grid grid-cols-2 gap-4 mb-4 p-4 bg-gray-800/50 rounded-lg"},[e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Manga"]),e("div",{className:"text-white text-2xl font-bold"},[String(t.manga_count||0)])]),e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Created"]),e("div",{className:"text-white text-sm"},[x(t.created_at)])])]);a.appendChild(s);const d=e("div",{className:"flex gap-2"},[e("button",{className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",onclick:()=>b.navigate(`/library?libraryId=${t.id}`)},["Browse"]),e("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",onclick:()=>g(t)},["Edit"]),e("button",{className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg text-sm transition-colors",onclick:async()=>{if(confirm(`Are you sure you want to delete "${t.name}"?`))try{await o.libraries.delete(t.id),await n()}catch(u){alert(`Failed to delete: ${u.message}`)}}},["Delete"])]);return a.appendChild(d),a}function p(){const t=prompt("Library Name:");if(!t)return;const a=prompt("Library Path:");if(!a)return;const r=prompt("Description (optional):")||"";o.libraries.create({name:t,path:a,description:r}).then(()=>n()).catch(s=>alert(`Failed to create library: ${s.message}`))}function g(t){const a=prompt("Library Name:",t.name);if(!a)return;const r=prompt("Description:",t.description||""),s=confirm("Is this library active?");o.libraries.update(t.id,{name:a,description:r,is_active:s}).then(()=>n()).catch(d=>alert(`Failed to update library: ${d.message}`))}function x(t){return t?new Date(t).toLocaleDateString():"N/A"}return await n(),c}export{v as LibrariesPage};
