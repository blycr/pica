import{c as e,a as d}from"./index-HWS5ZIqz.js";async function b(){const n=e("div",{className:"w-full max-w-7xl mx-auto"}),o=e("div",{className:"mb-8"},[e("h2",{className:"text-3xl font-bold text-white mb-2"},["Metadata Manager"]),e("p",{className:"text-gray-400"},["Search and apply metadata to your manga"])]);n.appendChild(o);const c=e("div",{className:"glass-card p-6 rounded-xl mb-8"}),m=e("div",{className:"flex gap-4"},[e("input",{type:"text",id:"metadata-search-input",placeholder:"Enter manga title to search...",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500"}),e("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors",onclick:()=>p()},["Search"])]);c.appendChild(m),n.appendChild(c);const l=e("div",{id:"metadata-results",className:"space-y-4"});n.appendChild(l);async function p(){const s=document.getElementById("metadata-search-input").value.trim();if(!s){alert("Please enter a manga title");return}l.innerHTML='<div class="text-center py-10 text-gray-500">Searching...</div>';try{const a=await d.metadata.search(s);x(a)}catch(a){l.innerHTML=`<div class="text-center py-10 text-red-500">Error: ${a.message}</div>`}}function x(t){if(l.innerHTML="",!t.results||t.results.length===0){l.innerHTML=`
                <div class="text-center py-20">
                    <div class="text-gray-500 text-lg mb-2">No results found</div>
                    <div class="text-gray-600 text-sm">${t.message||"Try a different search term"}</div>
                </div>
            `;return}if(t.message){const s=e("div",{className:"glass-card p-4 rounded-lg bg-blue-500/10 border border-blue-500/20 mb-4"},[e("p",{className:"text-blue-400 text-sm"},[t.message])]);l.appendChild(s)}t.results.forEach(s=>{const a=u(s,t.query);l.appendChild(a)})}function u(t,s){const a=e("div",{className:"glass-card p-6 rounded-xl"}),r=e("div",{className:"flex gap-6"});if(t.coverUrl){const i=e("div",{className:"flex-shrink-0"},[e("img",{src:t.coverUrl,alt:t.title,className:"w-32 h-48 object-cover rounded-lg",onerror:v=>{v.target.style.display="none"}})]);r.appendChild(i)}const h=e("div",{className:"flex-1"},[e("div",{className:"flex items-start justify-between mb-4"},[e("div",{},[e("h3",{className:"text-2xl font-bold text-white mb-1"},[t.title]),t.alternativeTitles&&t.alternativeTitles.length>0?e("p",{className:"text-gray-400 text-sm"},[t.alternativeTitles.join(", ")]):null]),e("div",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs font-bold"},[t.source||"local"])]),e("div",{className:"grid grid-cols-2 gap-4 mb-4"},[e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Author"]),e("div",{className:"text-white text-sm"},[t.author||"Unknown"])]),e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Status"]),e("div",{className:"text-white text-sm"},[t.status||"Unknown"])]),e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Year"]),e("div",{className:"text-white text-sm"},[String(t.year||"N/A")])]),e("div",{},[e("div",{className:"text-gray-400 text-xs mb-1"},["Match Score"]),e("div",{className:"text-white text-sm"},[`${Math.round((t.score||0)*100)}%`])])]),t.description?e("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3"},[t.description]):null,t.genres&&t.genres.length>0?e("div",{className:"flex flex-wrap gap-2 mb-4"},t.genres.map(i=>e("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs"},[i]))):null,e("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",onclick:()=>g(t,s)},["Apply to Manga"])]);return r.appendChild(h),a.appendChild(r),a}async function g(t,s){const a=prompt(`Enter Manga ID to apply this metadata to:
(Searching for: ${s})`);if(a)try{await d.metadata.apply(a,t),alert("Metadata applied successfully!")}catch(r){alert(`Failed to apply metadata: ${r.message}`)}}return n}export{b as MetadataPage};
